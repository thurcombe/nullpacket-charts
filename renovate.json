{
  "extends": ["config:base"],
  "regexManagers": [
    {
      "fileMatch": ["^charts/jellyfin/Chart.yaml$"],
      "matchStrings": ["^appVersion:\\s*\"?(?<currentValue>[^\\s\"]+)\"?"],
      "datasourceTemplate": "docker",
      "packageNameTemplate": "linuxserver/jellyfin"
    }
  ],
  "bumpVersions": [
    {
      "name": "Bump chart version",
      "filePatterns": ["{{#each (distinct (lookupArray upgrades \"packageFileDir\"))}}{{{.}}}{{#unless @last}}|{{/unless}}{{/each}}/Chart\\.(yaml|yml)$"],
      "matchStrings": ["version:\\s*(?<version>[^\\s]+)"],
      "bumpType": "{{#if isPatch}}patch{{else}}minor{{/if}}"
    }
  ],
  "packageRules": [
    {
      "matchManagers": ["regex"],
      "matchDatasources": ["docker"],
      "groupName": "Helm chart updates",
      "semanticCommitType": "fix",
      "commitMessageTopic": "{{{packageName}}}"
    }
  ]
}

